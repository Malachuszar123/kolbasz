ğŸŸ£ğŸŸ£ğŸŸ£4. DG: ÃšJ ADAT HOZZÃADÃSA A DATAGRIDBEğŸŸ£ğŸŸ£ğŸŸ£

ğŸŸ£ott van mÃ¡r az elkÃ©szÃ­tett Ã©s betÃ¶ltÃ¶tt adatok a DataGridbe. (hogyan kell? itt van: ğŸŸ¡ğŸŸ¡ğŸŸ¡3. TÃBLÃZAT KIIRATÃS DATAGRIDBEğŸŸ¡ğŸŸ¡ğŸŸ¡)

ğŸŸ£FONTOS HOGY NEVEZD EL MEGFELELÅEN A GOMBOKAT MEG MINDEN ISTEN NYILÃT.
GRID: mik ezek? Uj elem hozzÃ¡adÃ¡sa; pld: leves neve(tbox): almaleves(tblock); ezek sokasÃ¡ga de magadnak is megtudod csinÃ¡lni!!!
 <Button x:Name="hozzaad" Content="HozzÃ¡ad" HorizontalAlignment="Left" Margin="570,295,0,0" VerticalAlignment="Top" FontSize="20" Click="Button_Click_1"/>
 <TextBox x:Name="nev" HorizontalAlignment="Left" Margin="541,83,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="231" FontSize="20"/>
 <TextBox x:Name="kaloria" HorizontalAlignment="Left" Margin="541,120,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="231" FontSize="20"/>
 <TextBox x:Name="fohozzavalo" HorizontalAlignment="Left" Margin="541,156,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="231" FontSize="20"/>
 <TextBox x:Name="keszitette" HorizontalAlignment="Left" Margin="541,194,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="231" FontSize="20"/>
 <TextBox x:Name="osszlevesek" HorizontalAlignment="Left" Margin="541,228,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="231" FontSize="20"/>
 <TextBlock HorizontalAlignment="Left" Margin="541,30,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="Adj sajÃ¡t adatot"/></TextBlock>
 <TextBlock HorizontalAlignment="Left" Margin="405,83,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="NÃ©v:"/></TextBlock>
 <TextBlock HorizontalAlignment="Left" Margin="405,120,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="KalÃ³ria:"/></TextBlock>
 <TextBlock HorizontalAlignment="Left" Margin="405,158,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="FÅ‘ hozzÃ¡valÃ³:"/></TextBlock>
 <TextBlock HorizontalAlignment="Left" Margin="405,194,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="KÃ©szÃ­tette:"/></TextBlock>
 <TextBlock HorizontalAlignment="Left" Margin="400,226,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="Ã–ssz levesek:"/></TextBlock>

ğŸŸ£A hozzÃ¡adÃ³ gombra kattinta:
string nevValue = nev.Text; //minden adatrol amit hozzÃ¡ szeretnÃ©nk adni arrol kell egy string (ha szÃ¶veg) Ã©s int (ha szÃ¡m) value-t

int kaloriaValue = int.Parse(kaloria.Text); //aminek el lett nevezve a textbox ugy nevezd itt el
string fohozzavaloValue = fohozzavalo.Text;
string keszitetteValue = keszitette.Text;
int osszlevesekValue = int.Parse(osszlevesek.Text);

string connStr = "server=localhost;user=root;database=vannevesjelszo;password="; //sima csatlakozÃ¡s megint...
MySqlConnection conn = new MySqlConnection(connStr);

try
{
    conn.Open();

    // SQL parancs elÅ‘kÃ©szÃ­tÃ©se az adatok beszÃºrÃ¡sÃ¡hoz //itt ez a hosszu ide az kell ami tÃ¡blÃ¡zatban az elsÅ‘ sor nevei: pld fohozzavalo Ã©s @-cal elmondjuk melyik aza textbox amelyikbe Ã­rom a szÃ¶veget. tehÃ¡t @fohozzavalo
    string sql = "INSERT INTO levesek (neve, kaloria, fohozzavalo, keszitette, osszlevesek) VALUES (@nev, @kaloria, @fohozzavalo, @keszitette, @osszlevesek)";
    MySqlCommand cmd = new MySqlCommand(sql, conn);

    // ParamÃ©terek hozzÃ¡adÃ¡sa a parancshoz
    cmd.Parameters.AddWithValue("@nev", nevValue);
    cmd.Parameters.AddWithValue("@kaloria", kaloriaValue);
    cmd.Parameters.AddWithValue("@fohozzavalo", fohozzavaloValue);
    cmd.Parameters.AddWithValue("@keszitette", keszitetteValue);
    cmd.Parameters.AddWithValue("@osszlevesek", osszlevesekValue);

    // Parancs vÃ©grehajtÃ¡sa
    cmd.ExecuteNonQuery();

    // Adatok ÃºjratÃ¶ltÃ©se a DataGrid-be
    LoadData();
}
catch (Exception ex)
{
    MessageBox.Show("Hiba tÃ¶rtÃ©nt az adatok mentÃ©se kÃ¶zben: " + ex.Message);
}
finally
{
    conn.Close();
}

ğŸŸ£Ha szeretnÃ©nk azt, hogy ellenÅ‘rizve legyen hogy minden ki van-e tÃ¶ltve Ã©s biztos szÃ¡m kerÃ¼lt-e oda ahova kelett:

     // EllenÅ‘rizzÃ¼k, hogy minden mezÅ‘ ki van-e tÃ¶ltve
     if (string.IsNullOrWhiteSpace(nev.Text) || string.IsNullOrWhiteSpace(kaloria.Text) ||
         string.IsNullOrWhiteSpace(fohozzavalo.Text) || string.IsNullOrWhiteSpace(keszitette.Text) ||
         string.IsNullOrWhiteSpace(osszlevesek.Text))
     {
         MessageBox.Show("Minden mezÅ‘t ki kell tÃ¶lteni.");
         return;
     }

     // EllenÅ‘rizzÃ¼k, hogy a kalÃ³ria Ã©s az Ã¶sszlevesek mezÅ‘k Ã©rtÃ©kei szÃ¡mkÃ©nt Ã©rtelmezhetÅ‘k-e
     int kaloriaValue, osszlevesekValue;
     if (!int.TryParse(kaloria.Text, out kaloriaValue) || !int.TryParse(osszlevesek.Text, out osszlevesekValue))
     {
         MessageBox.Show("A kalÃ³ria Ã©s az Ã¶sszlevesek mezÅ‘k csak szÃ¡mokat tartalmazhatnak.");
         return;
     }

     string nevValue = nev.Text;
     string fohozzavaloValue = fohozzavalo.Text;
     string keszitetteValue = keszitette.Text;

     string connStr = "server=localhost;user=root;database=vannevesjelszo;password=";
     MySqlConnection conn = new MySqlConnection(connStr);

     try
     {
         conn.Open();

         // SQL parancs elÅ‘kÃ©szÃ­tÃ©se az adatok beszÃºrÃ¡sÃ¡hoz
         string sql = "INSERT INTO levesek (neve, kaloria, fohozzavalo, keszitette, osszlevesek) VALUES (@nev, @kaloria, @fohozzavalo, @keszitette, @osszlevesek)";
         MySqlCommand cmd = new MySqlCommand(sql, conn);

         // ParamÃ©terek hozzÃ¡adÃ¡sa a parancshoz
         cmd.Parameters.AddWithValue("@nev", nevValue);
         cmd.Parameters.AddWithValue("@kaloria", kaloriaValue);
         cmd.Parameters.AddWithValue("@fohozzavalo", fohozzavaloValue);
         cmd.Parameters.AddWithValue("@keszitette", keszitetteValue);
         cmd.Parameters.AddWithValue("@osszlevesek", osszlevesekValue);

         // Parancs vÃ©grehajtÃ¡sa
         cmd.ExecuteNonQuery();

         // Adatok ÃºjratÃ¶ltÃ©se a DataGrid-be
         LoadData();
     }
     catch (Exception ex)
     {
         MessageBox.Show("Hiba tÃ¶rtÃ©nt az adatok mentÃ©se kÃ¶zben: " + ex.Message);
     }
     finally
     {
         conn.Close();
     }

ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£
