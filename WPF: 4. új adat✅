ğŸŸ£ğŸŸ£ğŸŸ£4. DG: ÃšJ ADAT HOZZÃADÃSA AZ SQL TÃBLÃHOZğŸŸ£ğŸŸ£ğŸŸ£

ğŸŸ£ott van mÃ¡r az elkÃ©szÃ­tett Ã©s betÃ¶ltÃ¶tt adatok a DataGridbe. (hogyan kell? itt van: ğŸŸ¡ğŸŸ¡ğŸŸ¡3. TÃBLÃZAT KIIRATÃS DATAGRIDBEğŸŸ¡ğŸŸ¡ğŸŸ¡)

ğŸŸ£FONTOS HOGY NEVEZD EL MEGFELELÅEN A GOMBOKAT MEG MINDEN ISTEN NYILÃT.
 <Grid>
     <Grid.Background>
         <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
             <GradientStop Color="White"/>
             <GradientStop Color="#FFFF7272" Offset="1"/>
         </LinearGradientBrush>
     </Grid.Background>
     <TextBox x:Name="nevbox" HorizontalAlignment="Left" Margin="177,125,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="231" FontSize="20" Background="White" Foreground="Black"/>
     <TextBox x:Name="nemebox" HorizontalAlignment="Left" Margin="177,162,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="231" FontSize="20"/>
     <TextBox x:Name="reszlegbox" HorizontalAlignment="Left" Margin="177,198,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="231" FontSize="20"/>
     <TextBox x:Name="belepesevbox" HorizontalAlignment="Left" Margin="177,236,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="231" FontSize="20"/>
     <TextBox x:Name="berbox" HorizontalAlignment="Left" Margin="177,270,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="231" FontSize="20"/>
     <TextBlock HorizontalAlignment="Center" Margin="0,22,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="36" Width="322" TextAlignment="Center"><Run Language="hu-hu" Text="Ãšj dolgozÃ³ felvÃ©tele"/></TextBlock>
     <TextBlock HorizontalAlignment="Left" Margin="41,125,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="NÃ©v:"/></TextBlock>
     <TextBlock HorizontalAlignment="Left" Margin="41,162,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="Neme: fÃ©rfi/nÅ‘"/></TextBlock>
     <TextBlock HorizontalAlignment="Left" Margin="41,200,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="RÃ©szleg:"/></TextBlock>
     <TextBlock HorizontalAlignment="Left" Margin="41,236,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="BelÃ©pÃ©s Ã©ve:"/></TextBlock>
     <TextBlock HorizontalAlignment="Left" Margin="41,268,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="BÃ©r:"/></TextBlock>
     <Button HorizontalAlignment="Center" Margin="0,338,0,0" VerticalAlignment="Top" FontSize="22" Language="hu-hu" Content="HozzÃ¡ad" Click="Button_Click"/>
 </Grid>

ğŸŸ£Teljes kÃ³d:
using System;
using System.Collections.Generic;
using System.Data.SqlClient;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Imaging;
using System.Windows.Navigation;
using System.Windows.Shapes;
using MySql.Data.MySqlClient;

namespace vizsgaraWPF
{
    /// <summary>
    /// Interaction logic for MainWindow.xaml
    /// </summary>
    public partial class MainWindow : Window
    {
        public MySqlConnection connection;
        public MainWindow()
        {
            InitializeComponent();
            InitializeDbConn();
        }

        private void InitializeDbConn()
        {
            string connectionString = "Server=localhost; Database=dolgozok; Uid=root; Pwd=;";
            connection = new MySqlConnection(connectionString);
        }

        private void Button_Click(object sender, RoutedEventArgs e)
        {
            // Ã‰rtÃ©kek beolvasÃ¡sa Ã©s tÃ­puskonverziÃ³k
            string nevValue = nevbox.Text;
            string nemeValue = nemebox.Text;
            string reszlegValue = reszlegbox.Text;
            int belepesevValue, berValue;

            // EllenÅ‘rizzÃ¼k, hogy minden mezÅ‘ ki van-e tÃ¶ltve
            if (string.IsNullOrWhiteSpace(nevbox.Text) || string.IsNullOrWhiteSpace(nemebox.Text) ||
                string.IsNullOrWhiteSpace(reszlegbox.Text) || string.IsNullOrWhiteSpace(belepesevbox.Text) ||
                string.IsNullOrWhiteSpace(berbox.Text))
            {
                MessageBox.Show("Minden mezÅ‘t ki kell tÃ¶lteni.");
                return;
            }

            if (!int.TryParse(belepesevbox.Text, out belepesevValue) || !int.TryParse(berbox.Text, out berValue))
            {
                MessageBox.Show("A belÃ©pÃ©s Ã©ve Ã©s a bÃ©r mezÅ‘nek szÃ¡mnak kell lennie.");
                return;
            }

            try
            {
                connection.Open();

                // SQL parancs elÅ‘kÃ©szÃ­tÃ©se az adatok beszÃºrÃ¡sÃ¡hoz //itt ez a hosszu ide az kell ami tÃ¡blÃ¡zatban az elsÅ‘ sor nevei: pld fohozzavalo Ã©s @-cal elmondjuk melyik aza textbox amelyikbe Ã­rom a szÃ¶veget. tehÃ¡t @fohozzavalo
                string sql = "INSERT INTO dolgozok (nev, neme, reszleg, belepesev, ber) VALUES (@nevbox, @nemebox, @reszlegbox, @belepesevbox, @berbox)";
                MySqlCommand cmd = new MySqlCommand(sql, connection);

                // ParamÃ©terek hozzÃ¡adÃ¡sa a parancshoz
                cmd.Parameters.AddWithValue("@nevbox", nevValue);
                cmd.Parameters.AddWithValue("@nemebox", nemeValue);
                cmd.Parameters.AddWithValue("@reszlegbox", reszlegValue);
                cmd.Parameters.AddWithValue("@belepesevbox", belepesevValue);
                cmd.Parameters.AddWithValue("@berbox", berValue);

                // Parancs vÃ©grehajtÃ¡sa
                cmd.ExecuteNonQuery();
                MessageBox.Show("Adat(ok) sikeresen hozzÃ¡adva");
            }
            catch (Exception ex)
            {
                MessageBox.Show("Hiba tÃ¶rtÃ©nt az adatok mentÃ©se kÃ¶zben: " + ex.Message);
            }
            finally
            {
                connection.Close();
            }
        }
    }
}

ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£ğŸŸ£
