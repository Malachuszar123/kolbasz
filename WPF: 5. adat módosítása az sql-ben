ğŸ”µğŸ”µğŸ”µ5. adat mÃ³dosÃ­tÃ¡sa az sql-benğŸ”µğŸ”µğŸ”µ

ğŸ”µfentre ezeket alkalmazzuk:
public partial class adatatiras : Window
{ //ez alÃ¡ be kell rakni az sql csatlakozÃ¡st
    private string connectionString = "Server=localhost;Database=vannevesjelszo;Uid=root;Pwd=;";

ğŸ”µesetleges GRID:
 <Button x:Name="atirat" Content="ÃtÃ­rÃ¡s" HorizontalAlignment="Left" Margin="616,253,0,0" VerticalAlignment="Top" FontSize="20" Click="Button_Click_1"/>
 <TextBox x:Name="dnev" HorizontalAlignment="Left" Margin="541,83,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="231" FontSize="20"/>
 <TextBox x:Name="dszul" HorizontalAlignment="Left" Margin="541,120,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="231" FontSize="20"/>
 <TextBox x:Name="dmunk" HorizontalAlignment="Left" Margin="541,156,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="231" FontSize="20"/>
 <TextBox x:Name="dtel" HorizontalAlignment="Left" Margin="541,194,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="231" FontSize="20"/>
 <TextBlock HorizontalAlignment="Left" Margin="541,30,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="Adatok mÃ³dosÃ­tÃ¡sa"/></TextBlock>
 <TextBlock HorizontalAlignment="Left" Margin="405,83,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="NÃ©v:"/></TextBlock>
 <TextBlock HorizontalAlignment="Left" Margin="405,120,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="SzÃ¼letÃ©si d:"/></TextBlock>
 <TextBlock HorizontalAlignment="Left" Margin="405,158,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="Munka:"/></TextBlock>
 <TextBlock HorizontalAlignment="Left" Margin="405,194,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="Telefon:"/></TextBlock>
 <ComboBox x:Name="lista" HorizontalAlignment="Left" Margin="141,67,0,0" VerticalAlignment="Top" Width="120" SelectionChanged="lista_SelectionChanged"/>

ğŸ”µmÃ©g add hozzÃ¡ ezeket:
    public partial class adatatiras : Window
    {
        private string connectionString = "Server=localhost;Database=vannevesjelszo;Uid=root;Pwd=;"; //ezt a sort musaj ide kintre rakni!!
        public adatatiras()
        {
            InitializeComponent();
            FillComboBox(); //ezt Ã­rd ide
        }

ğŸ”µa fillcombobox-ot feltÃ¶tljÃ¼k:
private void FillComboBox()
{
    try
    {
        using (MySqlConnection connection = new MySqlConnection(connectionString))
        {
            connection.Open();
            string query = "SELECT dnev FROM dolgozok";
            MySqlCommand command = new MySqlCommand(query, connection);
            MySqlDataReader reader = command.ExecuteReader();
            while (reader.Read())
            {
                lista.Items.Add(reader["dnev"].ToString());
            }
        }
    }
    catch (Exception ex)
    {
        MessageBox.Show("Hiba tÃ¶rtÃ©nt az adatbÃ¡zis kapcsolat sorÃ¡n: " + ex.Message);
    }
}

ğŸ”µaz Ã¡tirat gomb kÃ³dja:
private void atirat_Click(object sender, RoutedEventArgs e)
{
    try
    {
        using (MySqlConnection connection = new MySqlConnection(connectionString))
        {
            connection.Open();
            string query = "UPDATE levesek SET ";
            MySqlCommand command = new MySqlCommand();

            if (!string.IsNullOrWhiteSpace(nev.Text))
            {
                query += "neve = @nev, "; //db oszlop neve = @texbbox neve... elvileg
                command.Parameters.AddWithValue("@nev", nev.Text);
            }

            if (!string.IsNullOrWhiteSpace(kaloria.Text))
            {
                query += "kaloria = @kaloria, ";
                command.Parameters.AddWithValue("@kaloria", kaloria.Text);
            }

            if (!string.IsNullOrWhiteSpace(fohozzavalo.Text))
            {
                query += "fohozzavalo = @fohozzavalo, ";
                command.Parameters.AddWithValue("@fohozzavalo", fohozzavalo.Text);
            }

            if (!string.IsNullOrWhiteSpace(keszitette.Text))
            {
                query += "keszitette = @keszitette, ";
                command.Parameters.AddWithValue("@keszitette", keszitette.Text);
            }

            if (!string.IsNullOrWhiteSpace(osszlevesek.Text))
            {
                query += "osszlevesek = @osszlevesek, ";
                command.Parameters.AddWithValue("@osszlevesek", osszlevesek.Text);
            }

            // Remove the last comma and space
            query = query.TrimEnd(',', ' ');

            // Ha nincs egyetlen mezÅ‘ sem kitÃ¶ltve, akkor ne hajtsa vÃ©gre a mÃ³dosÃ­tÃ¡st
            if (string.IsNullOrWhiteSpace(query))
            {
                MessageBox.Show("Nem adott meg mÃ³dosÃ­tandÃ³ adatokat.");
                return;
            }

            // Ha nincs egyetlen mezÅ‘ sem kitÃ¶ltve, akkor ne hajtsa vÃ©gre a mÃ³dosÃ­tÃ¡st
            if (lista.SelectedItem == null)
            {
                MessageBox.Show("Nincs kivÃ¡lasztva leves.");
                return;
            }

            // HozzÃ¡adja a WHERE feltÃ©telt a nevhez
            query += " WHERE neve = @selectedName";
            command.Parameters.AddWithValue("@selectedName", lista.SelectedItem.ToString());

            command.CommandText = query;
            command.Connection = connection;

            int rowsAffected = command.ExecuteNonQuery();
            if (rowsAffected > 0)
            {
                MessageBox.Show("Adatok sikeresen mÃ³dosÃ­tva.");
            }
            else
            {
                MessageBox.Show("Nem sikerÃ¼lt mÃ³dosÃ­tani az adatokat.");
            }
        }
    }
    catch (Exception ex)
    {
        MessageBox.Show("Hiba tÃ¶rtÃ©nt az adatok mÃ³dosÃ­tÃ¡sa sorÃ¡n: " + ex.Message);
    }
}

ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µa mÃ³dosÃ­tÃ¡sban is meglehet azt csinÃ¡lni hogy ahova szÃ¡m kell oda csak szÃ¡m Ã©s ahova betÅ± oda csak betÅ± mehet
ellenÅ‘rzÅ‘ kÃ³drÃ©szt megcsinÃ¡nlniğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ

ğŸ”µilletve csak simÃ¡n ez legyen itt:
 private void lista_SelectionChanged(object sender, SelectionChangedEventArgs e)
 {

 }
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
