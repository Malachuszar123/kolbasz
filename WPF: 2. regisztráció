ğŸŸ¢ğŸŸ¢ğŸŸ¢2. REGISZTRÃCIÃ“ğŸŸ¢ğŸŸ¢ğŸŸ¢
jobb katt a nevÃ©re > Add > Window WPF... > elnevezed

ğŸŸ¢GRID: 450x450
        <TextBlock HorizontalAlignment="Left" Margin="32,84,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="FelhasznÃ¡lÃ³nÃ©v:"/></TextBlock>
        <TextBox x:Name="felh" HorizontalAlignment="Left" Margin="207,84,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="187" FontSize="20"/>
        <TextBlock HorizontalAlignment="Left" Margin="32,149,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="JelszÃ³:"/></TextBlock>
        <PasswordBox x:Name="jel" HorizontalAlignment="Left" Margin="207,149,0,0" VerticalAlignment="Top" Width="187" FontSize="20" Height="29"/>
        <TextBlock HorizontalAlignment="Center" Margin="0,10,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="36"><Run Language="hu-hu" Text="RegisztrÃ¡ciÃ³"/></TextBlock>
        <Button x:Name="reg" Content="RegisztrÃ¡ciÃ³" HorizontalAlignment="Center" Margin="0,217,0,0" VerticalAlignment="Top" FontSize="20" ButtonBase.Click="reg_Click"/>
        <Button x:Name="bej" Content="InkÃ¡bb bejelentkezek" HorizontalAlignment="Center" Margin="0,267,0,0" VerticalAlignment="Top" FontSize="20" Click="bej_Click"/>
        <Button x:Name="kil" Content="KilÃ©pÃ©s" HorizontalAlignment="Center" Margin="0,355,0,0" VerticalAlignment="Top" FontSize="20"/>

ğŸŸ¢ezt a kÃ³d tetejÃ©re, ezzel csak 1x hivatkozol az sql-re Ã©s mindenhol mÅ±kÃ¶dik
public partial class Regi : Window
{
    public MySqlConnection connection; //ez az Ãºj
    public Regi()
    {
        InitializeComponent();
        InitializeDbConn();  //ez az Ãºj
    }

    private void InitializeDbConn()  //ez az Ãºj
    {  //ez az Ãºj
        string connectionString = "Server=localhost; Database=vannevesjelszo; Uid=root; Pwd=;";  //ez az Ãºj
        connection = new MySqlConnection(connectionString);  //ez az Ãºj
    }  //ez az Ãºj

ğŸŸ¢regisztrÃ¡ciÃ³s gomb:
private void reg_Click(object sender, object e)
{
    string felhasznalonev = felh.Text;
    string jelszo = jel.Password;

// EllenÅ‘rizzÃ¼k, hogy mindkÃ©t mezÅ‘ ki van-e tÃ¶ltve
if (string.IsNullOrWhiteSpace(felhasznalonev) || string.IsNullOrWhiteSpace(jelszo))
{
        MessageBox.Show("KÃ©rlek, tÃ¶ltsd ki mindkÃ©t mezÅ‘t!");
        return;
}

        string connectionString = "Server=localhost; Database=vannevesjelszo; Uid=root; Pwd=;"; //ha mÃ¡r 1x hivatlpztÃ¡l az sql-re akkor ez nem kell
        MySqlConnection connection = new MySqlConnection(connectionString); //ez se

    try
    {
        connection.Open();
        // EllenÅ‘rizzÃ¼k, hogy a felhasznÃ¡lÃ³nÃ©v mÃ¡r lÃ©tezik-e az adatbÃ¡zisban
        string checkQuery = "SELECT COUNT(*) FROM felhasznalok WHERE nev=@felh";
        MySqlCommand checkCommand = new MySqlCommand(checkQuery, connection);
        checkCommand.Parameters.AddWithValue("@felh", felhasznalonev); //a nev oszlopban van-e mÃ¡r olyan felhasznÃ¡lÃ³ ellenÅ‘rzÃ©se
        int userCount = Convert.ToInt32(checkCommand.ExecuteScalar());

        if (userCount > 0)
        {
            MessageBox.Show("A felhasznÃ¡lÃ³nÃ©v mÃ¡r lÃ©tezik. KÃ©rlek, vÃ¡lassz mÃ¡sikat!");
            return;
        }

        // Ha a felhasznÃ¡lÃ³nÃ©v mÃ©g nem lÃ©tezik, beszÃºrjuk az adatbÃ¡zisba
        string insertQuery = "INSERT INTO felhasznalok (nev, jelszo) VALUES (@felh, @jel)"; //()-ben az oszlopok nevei, @ utÃ¡n textbox nevei
        MySqlCommand insertCommand = new MySqlCommand(insertQuery, connection);
        insertCommand.Parameters.AddWithValue("@felh", felhasznalonev); 
        insertCommand.Parameters.AddWithValue("@jel", jelszo); // @ textbox, oszlop neve
        int rowsAffected = insertCommand.ExecuteNonQuery();

        if (rowsAffected > 0)
        {
            MessageBox.Show("Sikeres regisztrÃ¡ciÃ³!"); //Ã¡t visz a bejelentkezÃ©sre
            var regWindow = new MainWindow();
            regWindow.Show();
            Close();
        }
        else
        {
            MessageBox.Show("A regisztrÃ¡ciÃ³ sorÃ¡n hiba tÃ¶rtÃ©nt. KÃ©rlek, prÃ³bÃ¡ld Ãºjra!");
        }
    }
    catch (Exception ex)
    {
        MessageBox.Show("Hiba tÃ¶rtÃ©nt az adatbÃ¡zis kapcsolÃ³dÃ¡sakor: " + ex.Message);
    }
    finally
    {
        if (connection.State == ConnectionState.Open)
            connection.Close();
    }
}

ğŸŸ¢ÃtvÃ¡ltÃ¡s a bejelentkezÃ©sre:
      private void bej_Click(object sender, RoutedEventArgs e)
{
    {
        var regWindow = new MainWindow();
        regWindow.Show();
        Close();
    }
}

ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢
