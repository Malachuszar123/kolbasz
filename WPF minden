WPF APP.NET FrameWork

ğŸ›‘ğŸ›‘ğŸ›‘BejelentkezÃ©s rÃ©sz!ğŸ›‘ğŸ›‘ğŸ›‘

ğŸ›‘ğŸ›‘ğŸ›‘1. BEJELENTKEZÃ‰SğŸ›‘ğŸ›‘ğŸ›‘
Add hozzÃ¡ a NuGetet (mysql)
Fentre Ã­rd fel: using MySql.Data.MySqlClient;
Az elsÅ‘nek lÃ©trehozott oldal jelenik meg elsÅ‘nek.
Ha kell egy REGISZTRÃCIÃ“ Ã©s BEJELENTKEZÃ‰S akkor ELSÅNEK A BEJELENTKEZÃ‰ST kell megcsinÃ¡lni:

CsinÃ¡lsz egy "bejelentkezÃ©s" GRIDET aminek a tartalma:
450x450 mÃ©retben kb Ã©s a mainwindow-ot is Ã¡t Ã­rhatodd...

"Fontos hogy mindegyiket nevezd el!"
ğŸ”˜csak a bal oldali szÃ¶veg:
-felhasznÃ¡lÃ³ nÃ©v (TextBlock)
-jelszÃ³ (TextBlock)

ğŸ”˜jobb oldali ahova lehet is Ã­rni:
2 db Ã¼res mezÅ‘ (TextBox)
-felhasznÃ¡lÃ³nÃ©vhez (nev)
-felhasznÃ¡lÃ³nÃ©vhez (jel)

ğŸ”˜lentre 3 gomb:
-bejelentkezÃ©s (bejgomb)
-regisztrÃ¡ciÃ³ (reggomb)
-kilÃ©pÃ©s (kilepes)

BejelentkezÃ©s GRID:
 <TextBlock HorizontalAlignment="Left" Margin="32,84,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="FelhasznÃ¡lÃ³nÃ©v:"/></TextBlock>
 <TextBox x:Name="nev" HorizontalAlignment="Left" Margin="207,84,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="187" FontSize="20"/>
 <TextBlock HorizontalAlignment="Left" Margin="32,149,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="JelszÃ³:"/></TextBlock>
 <TextBox x:Name="jel" HorizontalAlignment="Left" Margin="207,149,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="187" FontSize="20"/>
 <TextBlock HorizontalAlignment="Center" Margin="0,10,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="36"><Run Language="hu-hu" Text="BejelentkezÃ©s"/></TextBlock>
 <Button x:Name="bejgomb" Content="BejelentkezÃ©s" HorizontalAlignment="Center" Margin="0,217,0,0" VerticalAlignment="Top" FontSize="20"/>
 <Button x:Name="reggomb" Content="RegisztrÃ¡ciÃ³" HorizontalAlignment="Center" Margin="0,267,0,0" VerticalAlignment="Top" FontSize="20"/>
 <Button x:Name="kilepes" Content="KilÃ©pÃ©s" HorizontalAlignment="Center" Margin="0,355,0,0" VerticalAlignment="Top" FontSize="20"/>

MÃ¡r meglÃ©vÅ‘ felhasznÃ¡lÃ³s Ã©s jelszavas adatbÃ¡zis elÃ©rÃ©se Ã©s azzal bejelentkezÃ©se:
Be inportÃ¡ltad az sql-t Ã©s kÃ©sz.
AdatbÃ¡zis lÃ©trehozÃ¡sa: 
db forge > jobb katt a localhostra > New Database > beirod az adatokat > fent a DATA 
> alatta database kivÃ¡lasztÃ¡sa > pici + jel > beÃ­rkÃ¡lod az adatokat

BejelemtkezÃ©s kÃ³dok:

BejelentkezÃ©s az adatbÃ¡zisbÃ³l:
        private void bejgomb_Click(object sender, RoutedEventArgs e)
{
    string felhasznalonev = nev.Text;
    string jelszo = jel.Text;

    // AdatbÃ¡zis kapcsolat beÃ¡llÃ­tÃ¡sa
    string connectionString = "Server=localhost;Database=vannevesjelszo;Uid=root;Pwd=;";
    MySqlConnection connection = new MySqlConnection(connectionString);

    try
    {
        connection.Open();

        // EllenÅ‘rizzÃ¼k, hogy a megadott felhasznÃ¡lÃ³nÃ©v Ã©s jelszÃ³ szerepel-e az adatbÃ¡zisban
        string query = "SELECT * FROM felhasznalok WHERE nev=@nev AND jelszo=@jelszo"; //ugy nevezd el a @ utÃ¡n mint ami az oszlop neve
        MySqlCommand command = new MySqlCommand(query, connection);
        command.Parameters.AddWithValue("@nev", felhasznalonev);  //oszlop neve Ã©s hogy az mi
        command.Parameters.AddWithValue("@jelszo", jelszo);

        using (MySqlDataReader reader = command.ExecuteReader())
        {
            if (reader.Read())
            {
                MessageBox.Show("Sikeres bejelentkezÃ©s!");
                var regWindow = new Program();
                regWindow.Show();
                Close();
            }
            else
            {
                MessageBox.Show("HibÃ¡s felhasznÃ¡lÃ³nÃ©v vagy jelszÃ³!");
            }
        }
    }
    catch (Exception ex)
    {
        MessageBox.Show("Hiba tÃ¶rtÃ©nt az adatbÃ¡zis kapcsolÃ³dÃ¡sakor: " + ex.Message);
    }
    finally
    {
        if (connection.State == ConnectionState.Open)
            connection.Close();
    }
}

regisztrÃ¡ciÃ³ oldalra Ã¡t menni:
        private void reggomb_Click(object sender, RoutedEventArgs e)
        {
            var regWindow = new RegisztrÃ¡ciÃ³();
            regWindow.Show();
            Close();
        }

kilÃ©pÃ©s gomb:
        private void kilepes_Click(object sender, RoutedEventArgs e)
        {
            this.Close();
        }

ğŸŸ¢ğŸŸ¢ğŸŸ¢2. REGISZTRÃCIÃ“ğŸŸ¢ğŸŸ¢ğŸŸ¢
LÃ©trehozÃ¡sa: (ha ez kell elsÅ‘nek akor ezt csinÃ¡ld meg elsÅ‘nek Ã©s hagyd ki a lÃ©pÃ©seket!)
jobb katt a nevÃ©re > Add > Window WPF... > elnevezed

TehÃ¡t mÃ¡r Ã¡t tud vezetni a bejelentkezÃ©srÅ‘l erre a rÃ©szre.

CsinÃ¡lsz egy "bejelentkezÃ©s" GRIDET aminek a tartalma:
450x450 mÃ©retben kb Ã©s a mainwindow-ot is Ã¡t Ã­rhatodd...

"Fontos hogy mindegyiket nevezd el!"
!!ugyan azok csak mÃ¡s elrendezÃ©ssel!!
ğŸ”˜csak a bal oldali szÃ¶veg:
-felhasznÃ¡lÃ³ nÃ©v (TextBlock)
-jelszÃ³ (TextBlock)

ğŸ”˜jobb oldali ahova lehet is Ã­rni:
2 db Ã¼res mezÅ‘ (TextBox)
-felhasznÃ¡lÃ³nÃ©vhez (nev)
-felhasznÃ¡lÃ³nÃ©vhez (jel)

ğŸ”˜lentre 3 gomb:
-bejelentkezÃ©s (bejgomb)
-regisztrÃ¡ciÃ³ (reggomb)
-kilÃ©pÃ©s (kilepes)

RegisztrÃ¡ciÃ³ GRID:
        <TextBlock HorizontalAlignment="Left" Margin="32,84,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="FelhasznÃ¡lÃ³nÃ©v:"/></TextBlock>
        <TextBox x:Name="nev" HorizontalAlignment="Left" Margin="207,84,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="187" FontSize="20"/>
        <TextBlock HorizontalAlignment="Left" Margin="32,149,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="JelszÃ³:"/></TextBlock>
        <TextBox x:Name="jel" HorizontalAlignment="Left" Margin="207,149,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="187" FontSize="20"/>
        <TextBlock HorizontalAlignment="Center" Margin="0,10,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="36"><Run Language="hu-hu" Text="RegisztrÃ¡ciÃ³"/></TextBlock>
        <Button x:Name="reggomb" Content="RegisztrÃ¡ciÃ³" HorizontalAlignment="Center" Margin="0,217,0,0" VerticalAlignment="Top" FontSize="20"/>
        <Button x:Name="bejgomb" Content="InkÃ¡bb bejelentkezek" HorizontalAlignment="Center" Margin="0,267,0,0" VerticalAlignment="Top" FontSize="20"/>
        <Button x:Name="kilepes" Content="KilÃ©pÃ©s" HorizontalAlignment="Center" Margin="0,355,0,0" VerticalAlignment="Top" FontSize="20"/>

regisztrÃ¡ciÃ³ oldalra Ã¡t menni:

regisztrÃ¡ciÃ³ az adatbÃ¡zisba:
 private void reggomb_Click(object sender, RoutedEventArgs e)
 {
     string felhasznalonev = nev.Text;
     string jelszo = jel.Text;

     string connectionString = "Server=localhost;Database=vannevesjelszo;Uid=root;Pwd=;";
     MySqlConnection connection = new MySqlConnection(connectionString);

     try
         {
         connection.Open(); 
         // EllenÅ‘rizzÃ¼k, hogy a felhasznÃ¡lÃ³nÃ©v mÃ¡r lÃ©tezik-e az adatbÃ¡zisban
         string checkQuery = "SELECT COUNT(*) FROM felhasznalok WHERE nev=@nev";
         MySqlCommand checkCommand = new MySqlCommand(checkQuery, connection);
         checkCommand.Parameters.AddWithValue("@nev", felhasznalonev); //a nev oszlopban van-e mÃ¡r olyan felhasznÃ¡lÃ³ ellenÅ‘rzÃ©se
         int userCount = Convert.ToInt32(checkCommand.ExecuteScalar());

         if (userCount > 0)
         {
             MessageBox.Show("A felhasznÃ¡lÃ³nÃ©v mÃ¡r lÃ©tezik. KÃ©rlek, vÃ¡lassz mÃ¡sikat!");
             return;
         }

             // Ha a felhasznÃ¡lÃ³nÃ©v mÃ©g nem lÃ©tezik, beszÃºrjuk az adatbÃ¡zisba
         string insertQuery = "INSERT INTO felhasznalok (nev, jelszo) VALUES (@nev, @jelszo)";
         MySqlCommand insertCommand = new MySqlCommand(insertQuery, connection);
         insertCommand.Parameters.AddWithValue("@nev", felhasznalonev); //a @nev az a neve az oszlopnak amiben a felhasznÃ¡lÃ³ nevek vannak //ugyan Ã­gy ha mÃ¡s adat kell akkor mÃ¡s oszlopnevet Ã­rsz ide meg @ utÃ¡n is
         insertCommand.Parameters.AddWithValue("@jelszo", jelszo); // ugyan Ãºgy ez az oszlop neve ahol a jelszavak vannak; //ugyan Ã­gy ha mÃ¡s adat kell akkor mÃ¡s oszlopnevet Ã­rsz ide meg
         int rowsAffected = insertCommand.ExecuteNonQuery();

         if (rowsAffected > 0)
         {
             MessageBox.Show("Sikeres regisztrÃ¡ciÃ³!"); //Ã¡t visz a bejelentkezÃ©sre
             var regWindow = new MainWindow();
             regWindow.Show();
             Close();
         }
         else
         {
             MessageBox.Show("A regisztrÃ¡ciÃ³ sorÃ¡n hiba tÃ¶rtÃ©nt. KÃ©rlek, prÃ³bÃ¡ld Ãºjra!");
         }
         }
         catch (Exception ex)
         {
             MessageBox.Show("Hiba tÃ¶rtÃ©nt az adatbÃ¡zis kapcsolÃ³dÃ¡sakor: " + ex.Message);
         }
         finally
         {
             if (connection.State == ConnectionState.Open)
                 connection.Close();
         }
 }

Ã¡tvÃ¡ltÃ¡s a bejelentkezÃ©sre:
        private void bejgomb_Click(object sender, RoutedEventArgs e)
        {
            var regWindow = new MainWindow();
            regWindow.Show();
            Close();
        }

kilÃ©pÃ©s gomb:
        private void kilepes_Click(object sender, RoutedEventArgs e)
        {
            this.Close();
        }
