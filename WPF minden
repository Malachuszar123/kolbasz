WPF APP.NET FrameWork

🛑🛑🛑Bejelentkezés rész!🛑🛑🛑

🛑🛑🛑1. BEJELENTKEZÉS🛑🛑🛑
Add hozzá a NuGetet (mysql)
Fentre írd fel: using MySql.Data.MySqlClient;
Az elsőnek létrehozott oldal jelenik meg elsőnek.
Ha kell egy REGISZTRÁCIÓ és BEJELENTKEZÉS akkor ELSŐNEK A BEJELENTKEZÉST kell megcsinálni:

Csinálsz egy "bejelentkezés" GRIDET aminek a tartalma:
450x450 méretben kb és a mainwindow-ot is át írhatodd...

"Fontos hogy mindegyiket nevezd el!"
🔘csak a bal oldali szöveg:
-felhasználó név (TextBlock)
-jelszó (TextBlock)

🔘jobb oldali ahova lehet is írni:
2 db üres mező (TextBox)
-felhasználónévhez (nev)
-felhasználónévhez (jel)

🔘lentre 3 gomb:
-bejelentkezés (bejgomb)
-regisztráció (reggomb)
-kilépés (kilepes)

Bejelentkezés GRID:
 <TextBlock HorizontalAlignment="Left" Margin="32,84,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="Felhasználónév:"/></TextBlock>
 <TextBox x:Name="nev" HorizontalAlignment="Left" Margin="207,84,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="187" FontSize="20"/>
 <TextBlock HorizontalAlignment="Left" Margin="32,149,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="Jelszó:"/></TextBlock>
 <TextBox x:Name="jel" HorizontalAlignment="Left" Margin="207,149,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="187" FontSize="20"/>
 <TextBlock HorizontalAlignment="Center" Margin="0,10,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="36"><Run Language="hu-hu" Text="Bejelentkezés"/></TextBlock>
 <Button x:Name="bejgomb" Content="Bejelentkezés" HorizontalAlignment="Center" Margin="0,217,0,0" VerticalAlignment="Top" FontSize="20"/>
 <Button x:Name="reggomb" Content="Regisztráció" HorizontalAlignment="Center" Margin="0,267,0,0" VerticalAlignment="Top" FontSize="20"/>
 <Button x:Name="kilepes" Content="Kilépés" HorizontalAlignment="Center" Margin="0,355,0,0" VerticalAlignment="Top" FontSize="20"/>

Már meglévő felhasználós és jelszavas adatbázis elérése és azzal bejelentkezése:
Be inportáltad az sql-t és kész.
Adatbázis létrehozása: 
db forge > jobb katt a localhostra > New Database > beirod az adatokat > fent a DATA 
> alatta database kiválasztása > pici + jel > beírkálod az adatokat

Bejelemtkezés kódok:

Bejelentkezés az adatbázisból:
        private void bejgomb_Click(object sender, RoutedEventArgs e)
{
    string felhasznalonev = nev.Text;
    string jelszo = jel.Text;

    // Adatbázis kapcsolat beállítása
    string connectionString = "Server=localhost;Database=vannevesjelszo;Uid=root;Pwd=;";
    MySqlConnection connection = new MySqlConnection(connectionString);

    try
    {
        connection.Open();

        // Ellenőrizzük, hogy a megadott felhasználónév és jelszó szerepel-e az adatbázisban
        string query = "SELECT * FROM felhasznalok WHERE nev=@nev AND jelszo=@jelszo"; //ugy nevezd el a @ után mint ami az oszlop neve
        MySqlCommand command = new MySqlCommand(query, connection);
        command.Parameters.AddWithValue("@nev", felhasznalonev);  //oszlop neve és hogy az mi
        command.Parameters.AddWithValue("@jelszo", jelszo);

        using (MySqlDataReader reader = command.ExecuteReader())
        {
            if (reader.Read())
            {
                MessageBox.Show("Sikeres bejelentkezés!");
                var regWindow = new Program();
                regWindow.Show();
                Close();
            }
            else
            {
                MessageBox.Show("Hibás felhasználónév vagy jelszó!");
            }
        }
    }
    catch (Exception ex)
    {
        MessageBox.Show("Hiba történt az adatbázis kapcsolódásakor: " + ex.Message);
    }
    finally
    {
        if (connection.State == ConnectionState.Open)
            connection.Close();
    }
}

regisztráció oldalra át menni:
        private void reggomb_Click(object sender, RoutedEventArgs e)
        {
            var regWindow = new Regisztráció();
            regWindow.Show();
            Close();
        }

kilépés gomb:
        private void kilepes_Click(object sender, RoutedEventArgs e)
        {
            this.Close();
        }

🟢🟢🟢2. REGISZTRÁCIÓ🟢🟢🟢
Létrehozása: (ha ez kell elsőnek akor ezt csináld meg elsőnek és hagyd ki a lépéseket!)
jobb katt a nevére > Add > Window WPF... > elnevezed

Tehát már át tud vezetni a bejelentkezésről erre a részre.

Csinálsz egy "bejelentkezés" GRIDET aminek a tartalma:
450x450 méretben kb és a mainwindow-ot is át írhatodd...

"Fontos hogy mindegyiket nevezd el!"
!!ugyan azok csak más elrendezéssel!!
🔘csak a bal oldali szöveg:
-felhasználó név (TextBlock)
-jelszó (TextBlock)

🔘jobb oldali ahova lehet is írni:
2 db üres mező (TextBox)
-felhasználónévhez (nev)
-felhasználónévhez (jel)

🔘lentre 3 gomb:
-bejelentkezés (bejgomb)
-regisztráció (reggomb)
-kilépés (kilepes)

Regisztráció GRID:
        <TextBlock HorizontalAlignment="Left" Margin="32,84,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="Felhasználónév:"/></TextBlock>
        <TextBox x:Name="nev" HorizontalAlignment="Left" Margin="207,84,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="187" FontSize="20"/>
        <TextBlock HorizontalAlignment="Left" Margin="32,149,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="20"><Run Language="hu-hu" Text="Jelszó:"/></TextBlock>
        <TextBox x:Name="jel" HorizontalAlignment="Left" Margin="207,149,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="187" FontSize="20"/>
        <TextBlock HorizontalAlignment="Center" Margin="0,10,0,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="36"><Run Language="hu-hu" Text="Regisztráció"/></TextBlock>
        <Button x:Name="reggomb" Content="Regisztráció" HorizontalAlignment="Center" Margin="0,217,0,0" VerticalAlignment="Top" FontSize="20"/>
        <Button x:Name="bejgomb" Content="Inkább bejelentkezek" HorizontalAlignment="Center" Margin="0,267,0,0" VerticalAlignment="Top" FontSize="20"/>
        <Button x:Name="kilepes" Content="Kilépés" HorizontalAlignment="Center" Margin="0,355,0,0" VerticalAlignment="Top" FontSize="20"/>

regisztráció oldalra át menni:

regisztráció az adatbázisba:
 private void reggomb_Click(object sender, RoutedEventArgs e)
 {
     string felhasznalonev = nev.Text;
     string jelszo = jel.Text;

     string connectionString = "Server=localhost;Database=vannevesjelszo;Uid=root;Pwd=;";
     MySqlConnection connection = new MySqlConnection(connectionString);

     try
         {
         connection.Open(); 
         // Ellenőrizzük, hogy a felhasználónév már létezik-e az adatbázisban
         string checkQuery = "SELECT COUNT(*) FROM felhasznalok WHERE nev=@nev";
         MySqlCommand checkCommand = new MySqlCommand(checkQuery, connection);
         checkCommand.Parameters.AddWithValue("@nev", felhasznalonev); //a nev oszlopban van-e már olyan felhasználó ellenőrzése
         int userCount = Convert.ToInt32(checkCommand.ExecuteScalar());

         if (userCount > 0)
         {
             MessageBox.Show("A felhasználónév már létezik. Kérlek, válassz másikat!");
             return;
         }

             // Ha a felhasználónév még nem létezik, beszúrjuk az adatbázisba
         string insertQuery = "INSERT INTO felhasznalok (nev, jelszo) VALUES (@nev, @jelszo)";
         MySqlCommand insertCommand = new MySqlCommand(insertQuery, connection);
         insertCommand.Parameters.AddWithValue("@nev", felhasznalonev); //a @nev az a neve az oszlopnak amiben a felhasználó nevek vannak //ugyan így ha más adat kell akkor más oszlopnevet írsz ide meg @ után is
         insertCommand.Parameters.AddWithValue("@jelszo", jelszo); // ugyan úgy ez az oszlop neve ahol a jelszavak vannak; //ugyan így ha más adat kell akkor más oszlopnevet írsz ide meg
         int rowsAffected = insertCommand.ExecuteNonQuery();

         if (rowsAffected > 0)
         {
             MessageBox.Show("Sikeres regisztráció!"); //át visz a bejelentkezésre
             var regWindow = new MainWindow();
             regWindow.Show();
             Close();
         }
         else
         {
             MessageBox.Show("A regisztráció során hiba történt. Kérlek, próbáld újra!");
         }
         }
         catch (Exception ex)
         {
             MessageBox.Show("Hiba történt az adatbázis kapcsolódásakor: " + ex.Message);
         }
         finally
         {
             if (connection.State == ConnectionState.Open)
                 connection.Close();
         }
 }

átváltás a bejelentkezésre:
        private void bejgomb_Click(object sender, RoutedEventArgs e)
        {
            var regWindow = new MainWindow();
            regWindow.Show();
            Close();
        }

kilépés gomb:
        private void kilepes_Click(object sender, RoutedEventArgs e)
        {
            this.Close();
        }
