ðŸˆâ€â¬›ðŸˆâ€â¬›ðŸˆâ€â¬›KÃ‰SZÃTS KONZOLOS ALKALMAZÃST! -erre a feladat tipusra koncentrÃ¡lvaðŸˆâ€â¬›ðŸˆâ€â¬›ðŸˆâ€â¬›

ðŸˆâ€â¬›1. lÃ©pÃ©s:
NuGets mysql hozzÃ¡adÃ¡sa

ðŸˆâ€â¬›2. lÃ©pÃ©s: a sor hozzÃ¡adÃ¡sa
using MySql.Data.MySqlClient;

ðŸˆâ€â¬›3. lÃ©pÃ©s: kÃ³d beillesztÃ©se Ã©s Ã¡tÃ­rÃ¡sa
namespace ConsoleApp1
{
    internal class Program
    {
        static void Main(string[] args)
        {
            string connString = "server=localhost; user=root; database=pizza; password=;"; //adatbÃ¡zis hozzÃ¡kapcsolÃ¡sa
            MySqlConnection dbConn = new MySqlConnection(connString);

            try
            {
                dbConn.Open();

                // 1. feladat: HÃ¡ny db pizza van Ã¶sszesen?
                string lekerdezes1 = "SELECT COUNT(pnev) FROM pizza";
                MySqlCommand database = new MySqlCommand(lekerdezes1, dbConn);
                Console.WriteLine("1. feladat: HÃ¡ny db pizza van Ã¶sszesen?");
                Console.WriteLine($"{database.ExecuteScalar()}");

                // 2. feladat: PizzÃ¡k neve Ã©s Ã¡rai?
                string lekerdezes2 = "SELECT pnev, par FROM pizza";
                MySqlCommand database2 = new MySqlCommand(lekerdezes2, dbConn);
                Console.WriteLine("\n2. feladat: PizzÃ¡k neve Ã©s Ã¡rai?");
                using (var reader = database2.ExecuteReader())
                {
                    while (reader.Read()) //tÃ¶bb oszlopos kiiratÃ¡s
                    {
                        string neve = reader.GetString(0);
                        int ara = reader.GetInt32(1);
                        Console.WriteLine($"{neve}: {ara} Ft");
                    }
                }

                // 3. feladat: HÃ¡ny db pizza van Ã¶sszesen?
                string lekerdezes3 = "SELECT\r\n  COUNT(rendeles.idopont) AS dbpizzak\r\nFROM rendeles\r\n  INNER JOIN vevo\r\n    ON rendeles.vazon = vevo.vazon\r\nWHERE vevo.vnev = 'Kuka'\r\nAND rendeles.idopont BETWEEN '2023.01.01.' AND '2023.12.31.'";
                MySqlCommand database3 = new MySqlCommand(lekerdezes3, dbConn);
                Console.WriteLine("\n3. feladat: HÃ¡ny db pizzÃ¡t rendelt Kuka 2013-ban?");
                Console.WriteLine($"{database3.ExecuteScalar()}");
            }
            finally
            {
                dbConn.Close();
            }
            Console.ReadLine();
        }
    }
}

ðŸˆâ€â¬›ðŸˆâ€â¬›ðŸˆâ€â¬›ðŸˆâ€â¬›ðŸˆâ€â¬›ðŸˆâ€â¬›ðŸˆâ€â¬›ðŸˆâ€â¬›ðŸˆâ€â¬›ðŸˆâ€â¬›ðŸˆâ€â¬›ðŸˆâ€â¬›

ðŸˆâ€â¬›mellÃ©k kÃ©nt vilÃ¡gi rÃ¶vidsÃ©ggel:

namespace valamicsodarovidsÃ©g
{
    internal class Program
    {
        static void Main(string[] args)
        {
            var c = new MySqlConnection("server=localhost; user=root; database=pizza; password=;");
            c.Open();

            var q = new[] {
            ("1. feladat: HÃ¡ny db pizza van Ã¶sszesen?", "SELECT COUNT(pnev) FROM pizza"),
            ("2. feladat: PizzÃ¡k neve Ã©s Ã¡rai?", "SELECT pnev, par FROM pizza"),
            ("3. feladat: HÃ¡ny db pizzÃ¡t rendelt Kuka 2013-ban?", "SELECT COUNT(r.idopont) FROM rendeles r INNER JOIN vevo v ON r.vazon = v.vazon WHERE v.vnev = 'Kuka' AND r.idopont BETWEEN '2023.01.01.' AND '2023.12.31.'")
        };
            foreach (var (question, query) in q)
            {
                Console.WriteLine(question);
                var r = new MySqlCommand(query, c).ExecuteReader();
                while (r.Read())
                {
                    Console.WriteLine(r[0] + (r.FieldCount > 1 ? $": {r[1]} Ft" : ""));
                }
                r.Close();
                Console.WriteLine();   
            }
            c.Close();
            Console.ReadLine();
        }
    }
}
